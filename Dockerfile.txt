# Image légère Node.js
FROM node:18-alpine

# Créer le répertoire de travail
WORKDIR /app

# Copier package.json / package-lock.json d'abord pour profiter du cache Docker
COPY package*.json ./

# Installer les dépendances (si tu veux dev deps localement, adapte)
RUN npm ci --only=production

# Copier le reste du code
COPY . .

# Exposer le port par défaut (ton app doit utiliser process.env.PORT)
EXPOSE 3000

# Commande de démarrage (adapte si ton entry point est server.js ou autre)
CMD ["node", "index.js"]